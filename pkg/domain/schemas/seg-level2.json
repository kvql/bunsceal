{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://github.com/kvql/bunsceal/pkg/domain/schemas/seg-level2.json",
  "title": "SegL2",
  "description": "Segmentation Level 2 definitions, including per-environment overrides",
  "type": "object",
  "properties": {
    "version": {
      "type": "string",
      "const": "1.0",
      "description": "Schema version identifier"
    },
    "name": {
      "type": "string",
      "minLength": 1
    },
    "id": {
      "$ref": "./common.json#/$defs/sdId"
    },
    "description": {
      "type": "string",
      "minLength": 1
    },
    "l1_overrides": {
      "type": "object",
      "description": "Map of L1 segment ID -> L1 override details",
      "patternProperties": {
        "^[a-z-]{1,15}$": {
          "$ref": "./l1-overrides.json"
        }
      },
      "minProperties": 1,
      "additionalProperties": false
    },
    "prominence": {
      "type": "integer",
      "description": "variable to increase the size of listed security domains. Value is the number of new lines to add above and below the label. This is used to make the listed L2 Segment more visible in the graph.",
      "enum": [
        1,
        2,
        3
      ]
    }
  },
  "required": [
    "version",
    "name",
    "id",
    "description",
    "l1_overrides"
  ],
  "additionalProperties": false
}
